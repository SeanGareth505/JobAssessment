<div class="login-page">
  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title>Sign in</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="login-form">
        <mat-form-field appearance="outline">
          <mat-label>Username</mat-label>
          <input matInput formControlName="userName" type="text" autocomplete="username" />
          @if (form.get('userName')?.invalid && form.get('userName')?.touched) {
            <mat-error>Username is required</mat-error>
          }
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input
            matInput
            formControlName="password"
            type="password"
            autocomplete="current-password"
          />
        </mat-form-field>
        @if (error) {
          <p class="error-msg">{{ error }}</p>
        }
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="loading || form.invalid"
        >
          Sign in
        </button>
        @if (loading) {
          <mat-spinner diameter="24" class="loading-inline"></mat-spinner>
        }
      </form>
      <div class="test-accounts">
        <p class="test-accounts-title">Test accounts</p>
        <p class="test-accounts-password">Password for all: <strong>123qwe</strong></p>
        <ul>
          <li><strong>admin</strong> — full access</li>
          <li><strong>writer</strong> — read and create/edit orders</li>
          <li><strong>reader</strong> — read only</li>
        </ul>
      </div>
    </mat-card-content>
  </mat-card>
</div>
